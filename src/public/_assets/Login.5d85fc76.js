let e=document.createElement("style");e.innerHTML=".login[data-v-1e199142]{width:200px;margin-top:150px;margin-left:auto;margin-right:auto;border:3px solid #ccd2f0;padding:20px;background-color:#ccd2f0;border-radius:9px}#h_login[data-v-1e199142]{font-size:large;font-weight:500}#btn-login[data-v-1e199142]{width:25%}#btn-vfcode[data-v-1e199142]{width:40%;margin-left:70px}",document.head.appendChild(e);import{a as t}from"./axios.5682ea03.js";import{E as a,e as o,b as i,w as l,a as n,o as d,g as s,t as r,p as u,i as m,f as g}from"./index.e0a038f7.js";var p={data:()=>({logindata:{mail:"",vfcode:""},btnvalue:"获取验证码",btnnum:60,BtnDisable:!1}),methods:{updateNumAndGetvfcode:function(){t.post("/api/getVerification",{mail:this.logindata.mail}).then((e=>{if(200==Number(e.data.code)){this.BtnDisable=!0;var t=setInterval((()=>{this.btnnum--,this.btnvalue=String(this.btnnum),0==this.btnnum&&(this.btnvalue="获取验证码",this.btnnum=60,this.BtnDisable=!1,clearInterval(t))}),1e3);a({title:"获取验证码成功",message:e.data.message,type:"success",duration:2e3,position:"bottom-right",showClose:!0})}else a({title:"获取验证码失败",message:e.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((e=>{a({title:"网络错误",message:"获取验证码失败失败",type:"error",duration:3e3,position:"bottom-right",showClose:!0})}))},doLogin:function(){t.post("/user/login",this.logindata).then((e=>{console.log(Number(e.data.code)),0==Number(e.data.code)?router.push("/GetNewLink"):a({title:"登陆失败",message:e.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((e=>{a({title:"登陆失败",message:"网络错误",type:"error",duration:2e3,position:"bottom-right",showClose:!0})}))}}};const c={class:"login"},h=(e=>(u("data-v-1e199142"),e=e(),m(),e))((()=>g("div",{id:"h_login"},"登录",-1)));p.render=function(e,t,a,u,m,g){const p=n("el-input"),b=n("el-form-item"),f=n("el-button"),v=n("el-form");return d(),o("div",c,[h,i(v,{"label-position":"left","label-width":"0px"},{default:l((()=>[i(b,{label:""},{default:l((()=>[i(p,{placeholder:"邮箱",modelValue:m.logindata.mail,"onUpdate:modelValue":t[0]||(t[0]=e=>m.logindata.mail=e)},null,8,["modelValue"])])),_:1}),i(b,{label:""},{default:l((()=>[i(p,{id:"vf",placeholder:"验证码",modelValue:m.logindata.vfcode,"onUpdate:modelValue":t[1]||(t[1]=e=>m.logindata.vfcode=e)},null,8,["modelValue"])])),_:1}),i(b,null,{default:l((()=>[i(f,{id:"btn-login",type:"primary",onClick:g.doLogin},{default:l((()=>[s("登录")])),_:1},8,["onClick"]),i(f,{id:"btn-vfcode",type:"primary",onClick:g.updateNumAndGetvfcode,disabled:m.BtnDisable},{default:l((()=>[s(r(m.btnvalue),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])},p.__scopeId="data-v-1e199142";export{p as default};
