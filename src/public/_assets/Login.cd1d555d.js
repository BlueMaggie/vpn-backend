let t=document.createElement("style");t.innerHTML=".login[data-v-b239d8f2]{width:200px;margin-top:150px;margin-left:auto;margin-right:auto;border:3px solid #ccd2f0;padding:20px;background-color:#ccd2f0;border-radius:9px}#h_login[data-v-b239d8f2]{font-size:large;font-weight:500}#btn-login[data-v-b239d8f2]{width:25%}#btn-vfcode[data-v-b239d8f2]{width:40%;margin-left:70px}",document.head.appendChild(t);import{a as e}from"./axios.5682ea03.js";import{E as a,d as o,a as i,w as l,r as n,o as d,f as s,t as r,p as u,h as m,e as p}from"./index.e87a077a.js";var g={data:()=>({logindata:{mail:"",vfcode:""},btnvalue:"获取验证码",btnnum:60,BtnDisable:!1}),methods:{updateNumAndGetvfcode:function(){e.post("/api/getVerification",{mail:this.logindata.mail}).then((t=>{if(200==t.state){this.BtnDisable=!0;var e=setInterval((()=>{this.btnnum--,this.btnvalue=String(this.btnnum),0==this.btnnum&&(this.btnvalue="获取验证码",this.btnnum=60,this.BtnDisable=!1,clearInterval(e))}),1e3);a({title:"获取验证码成功",message:t.data.message,type:"success",duration:2e3,position:"bottom-right",showClose:!0})}else a({title:"获取验证码失败",message:t.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((t=>{a({title:"网络错误",message:"获取验证码失败失败",type:"error",duration:3e3,position:"bottom-right",showClose:!0})}))},doLogin:function(){e.post("/user/login",this.logindata).then((t=>{0==t.data.code?router.push("/GetNewLink"):a({title:"登陆失败",message:t.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((t=>{a({title:"登陆失败",message:"网络错误",type:"error",duration:2e3,position:"bottom-right",showClose:!0})}))}}};const h={class:"login"},b=(t=>(u("data-v-b239d8f2"),t=t(),m(),t))((()=>p("div",{id:"h_login"},"登录",-1)));g.render=function(t,e,a,u,m,p){const g=n("el-input"),c=n("el-form-item"),f=n("el-button"),v=n("el-form");return d(),o("div",h,[b,i(v,{"label-position":"left","label-width":"0px"},{default:l((()=>[i(c,{label:""},{default:l((()=>[i(g,{placeholder:"邮箱",modelValue:m.logindata.mail,"onUpdate:modelValue":e[0]||(e[0]=t=>m.logindata.mail=t)},null,8,["modelValue"])])),_:1}),i(c,{label:""},{default:l((()=>[i(g,{id:"vf",placeholder:"验证码",modelValue:m.logindata.vfcode,"onUpdate:modelValue":e[1]||(e[1]=t=>m.logindata.vfcode=t)},null,8,["modelValue"])])),_:1}),i(c,null,{default:l((()=>[i(f,{id:"btn-login",type:"primary",onClick:p.doLogin},{default:l((()=>[s("登录")])),_:1},8,["onClick"]),i(f,{id:"btn-vfcode",type:"primary",onClick:p.updateNumAndGetvfcode,disabled:m.BtnDisable},{default:l((()=>[s(r(m.btnvalue),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])},g.__scopeId="data-v-b239d8f2";export{g as default};
