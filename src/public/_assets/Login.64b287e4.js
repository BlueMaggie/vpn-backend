let t=document.createElement("style");t.innerHTML=".login[data-v-1084f07b]{width:200px;margin-top:150px;margin-left:auto;margin-right:auto;border:3px solid #ccd2f0;padding:20px;background-color:#ccd2f0;border-radius:9px}#h_login[data-v-1084f07b]{font-size:large;font-weight:500}#btn-login[data-v-1084f07b]{width:25%}#btn-vfcode[data-v-1084f07b]{width:40%;margin-left:70px}",document.head.appendChild(t);import{a as e}from"./axios.5682ea03.js";import{E as a,r as o,e as i,b as l,w as n,a as d,o as s,g as r,t as u,p as m,i as b,f as g}from"./index.2b986ee6.js";var c={data:()=>({logindata:{mail:"",vfcode:""},btnvalue:"获取验证码",btnnum:60,BtnDisable:!1}),methods:{updateNumAndGetvfcode:function(){e.post("/api/getVerification",{mail:this.logindata.mail}).then((t=>{if(200==Number(t.data.code)){this.BtnDisable=!0;var e=setInterval((()=>{this.btnnum--,this.btnvalue=String(this.btnnum),0==this.btnnum&&(this.btnvalue="获取验证码",this.btnnum=60,this.BtnDisable=!1,clearInterval(e))}),1e3);a({title:"获取验证码成功",message:t.data.message,type:"success",duration:2e3,position:"bottom-right",showClose:!0})}else a({title:"获取验证码失败",message:t.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((t=>{a({title:"网络错误",message:"获取验证码失败失败",type:"error",duration:3e3,position:"bottom-right",showClose:!0})}))},doLogin:function(){e.post("/user/login",this.logindata).then((t=>{console.log(Number(t.data.code)),0==Number(t.data.code)?o.push("/GetNewLink"):a({title:"登陆失败",message:t.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((t=>{a({title:"登陆失败",message:"网络错误",type:"error",duration:2e3,position:"bottom-right",showClose:!0}),console.log(t)}))}}};const p={class:"login"},f=(t=>(m("data-v-1084f07b"),t=t(),b(),t))((()=>g("div",{id:"h_login"},"登录",-1)));c.render=function(t,e,a,o,m,b){const g=d("el-input"),c=d("el-form-item"),h=d("el-button"),v=d("el-form");return s(),i("div",p,[f,l(v,{"label-position":"left","label-width":"0px"},{default:n((()=>[l(c,{label:""},{default:n((()=>[l(g,{placeholder:"邮箱",modelValue:m.logindata.mail,"onUpdate:modelValue":e[0]||(e[0]=t=>m.logindata.mail=t)},null,8,["modelValue"])])),_:1}),l(c,{label:""},{default:n((()=>[l(g,{id:"vf",placeholder:"验证码",modelValue:m.logindata.vfcode,"onUpdate:modelValue":e[1]||(e[1]=t=>m.logindata.vfcode=t)},null,8,["modelValue"])])),_:1}),l(c,null,{default:n((()=>[l(h,{id:"btn-login",type:"primary",onClick:b.doLogin},{default:n((()=>[r("登录")])),_:1},8,["onClick"]),l(h,{id:"btn-vfcode",type:"primary",onClick:b.updateNumAndGetvfcode,disabled:m.BtnDisable},{default:n((()=>[r(u(m.btnvalue),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])},c.__scopeId="data-v-1084f07b";export{c as default};
