let e=document.createElement("style");e.innerHTML=".login[data-v-4382f603]{width:200px;margin-top:150px;margin-left:auto;margin-right:auto;border:3px solid #dde0ec;padding:20px;background-color:#acb1ce;border-radius:9px}#h_login[data-v-4382f603]{font-size:large;font-weight:500}#btn-login[data-v-4382f603]{width:25%}#btn-vfcode[data-v-4382f603]{width:40%;margin-left:70px}",document.head.appendChild(e);import{a as t}from"./axios.5682ea03.js";import{E as a,r as o,c as i,a as l,w as n,d,o as s,e as r,t as m,p as u,f as p,b as g}from"./index.473ba10e.js";var c={data:()=>({logindata:{mail:"",vfcode:""},btnvalue:"获取验证码",btnnum:60,BtnDisable:!1}),methods:{updateNumAndGetvfcode:function(){t.post("/api/getVerification",{mail:this.logindata.mail}).then((e=>{if(200==Number(e.data.code)){this.BtnDisable=!0;var t=setInterval((()=>{this.btnnum--,this.btnvalue=String(this.btnnum),0==this.btnnum&&(this.btnvalue="获取验证码",this.btnnum=60,this.BtnDisable=!1,clearInterval(t))}),1e3);a({title:"获取验证码成功",message:e.data.message,type:"success",duration:2e3,position:"bottom-right",showClose:!0})}else a({title:"获取验证码失败",message:e.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((e=>{a({title:"网络错误",message:"获取验证码失败失败",type:"error",duration:3e3,position:"bottom-right",showClose:!0})}))},doLogin:function(){t.post("/SuperAdmin/login",this.logindata).then((e=>{console.log(Number(e.data.code)),0==Number(e.data.code)?o.push("/SuperAdmin/Manage"):a({title:"登陆失败",message:e.data.message,type:"error",duration:2e3,position:"bottom-right",showClose:!0})})).catch((e=>{a({title:"登陆失败",message:"网络错误",type:"error",duration:2e3,position:"bottom-right",showClose:!0}),console.log(e)}))}}};const b={class:"login"},h=(e=>(u("data-v-4382f603"),e=e(),p(),e))((()=>g("div",{id:"h_login"},"管理员登陆",-1)));c.render=function(e,t,a,o,u,p){const g=d("el-input"),c=d("el-form-item"),f=d("el-button"),v=d("el-form");return s(),i("div",b,[h,l(v,{"label-position":"left","label-width":"0px"},{default:n((()=>[l(c,{label:""},{default:n((()=>[l(g,{placeholder:"邮箱",modelValue:u.logindata.mail,"onUpdate:modelValue":t[0]||(t[0]=e=>u.logindata.mail=e)},null,8,["modelValue"])])),_:1}),l(c,{label:""},{default:n((()=>[l(g,{id:"vf",placeholder:"验证码",modelValue:u.logindata.vfcode,"onUpdate:modelValue":t[1]||(t[1]=e=>u.logindata.vfcode=e)},null,8,["modelValue"])])),_:1}),l(c,null,{default:n((()=>[l(f,{id:"btn-login",type:"primary",onClick:p.doLogin},{default:n((()=>[r("登录")])),_:1},8,["onClick"]),l(f,{id:"btn-vfcode",type:"primary",onClick:p.updateNumAndGetvfcode,disabled:u.BtnDisable},{default:n((()=>[r(m(u.btnvalue),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])},c.__scopeId="data-v-4382f603";export{c as default};
